package com.github.hakobera.wiiremote;

import wiiremotej.WiiRemote;
import wiiremotej.WiiRemoteExtension;
import wiiremotej.WiiRemoteJ;
import wiiremotej.event.WRAccelerationEvent;
import wiiremotej.event.WRButtonEvent;
import wiiremotej.event.WRCombinedEvent;
import wiiremotej.event.WRExtensionEvent;
import wiiremotej.event.WRIREvent;
import wiiremotej.event.WRStatusEvent;
import wiiremotej.event.WiiRemoteListener;

public class WiiRemoteProxy {
	
	public static void main(String[] args) throws Exception {
    	System.setProperty("bluecove.jsr82.psm_minimum_off", "true");  
        WiiRemoteJ.setConsoleLoggingAll();
        
        //Find and connect to a Wii Remote
        WiiRemote remote = null;
        
        while (remote == null) {
            try {
                remote = WiiRemoteJ.findRemote();
            } catch (Exception e) {
                remote = null;
                e.printStackTrace();
                System.out.println("Failed to connect remote. Trying again.");
                Thread.sleep(500);
            }
        }
        
        remote.addWiiRemoteListener(new DataProvider(remote));
        remote.setAccelerometerEnabled(true);
        remote.setSpeakerEnabled(false);
        remote.setIRSensorEnabled(true, WRIREvent.BASIC);
        remote.setLEDIlluminated(0, true);
	}
	
	public class DataProvider implements WiiRemoteListener {

		private WiiRemote remote;
		
		public DataProvider(WiiRemote remote) {
			this.remote = remote;
		}
		
		@Override
		public void IRInputReceived(WRIREvent arg0) {
			// TODO Auto-generated method stub
			
		}

		@Override
		public void accelerationInputReceived(WRAccelerationEvent arg0) {
			// TODO Auto-generated method stub
			
		}

		@Override
		public void buttonInputReceived(WRButtonEvent arg0) {
			// TODO Auto-generated method stub
			
		}

		@Override
		public void combinedInputReceived(WRCombinedEvent arg0) {
			// TODO Auto-generated method stub
			
		}

		@Override
		public void disconnected() {
			// TODO Auto-generated method stub
			
		}

		@Override
		public void extensionConnected(WiiRemoteExtension arg0) {
			// TODO Auto-generated method stub
			
		}

		@Override
		public void extensionDisconnected(WiiRemoteExtension arg0) {
			// TODO Auto-generated method stub
			
		}

		@Override
		public void extensionInputReceived(WRExtensionEvent arg0) {
			// TODO Auto-generated method stub
			
		}

		@Override
		public void extensionPartiallyInserted() {
			// TODO Auto-generated method stub
			
		}

		@Override
		public void extensionUnknown() {
			// TODO Auto-generated method stub
			
		}

		@Override
		public void statusReported(WRStatusEvent arg0) {
			// TODO Auto-generated method stub
			
		}
		
	}
	
}
